.search-container{max-width:980px;margin:20px auto;padding:10px}
.search-form{display:flex;gap:8px;margin-bottom:14px}
.search-form input[type=text]{flex:1;padding:8px;border:1px solid #ccc;border-radius:4px}
.search-form select{padding:8px;border:1px solid #ccc;border-radius:4px}
.cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:12px}
.card{display:flex;gap:12px;padding:12px;border:1px solid #e3e3e3;border-radius:8px;background:#fff;align-items:flex-start}
.avatar img{width:70px;height:70px;object-fit:cover;border-radius:50%}
.info h3{margin:0;font-size:1.05rem}
.info .especialidad{font-weight:600;color:#555;margin:6px 0}
.info .descripcion{font-size:0.92rem;color:#333;margin-bottom:8px}
.info form textarea{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;margin-bottom:6px}
.btn.btn-primario{background:#0069d9;color:#fff;padding:8px 12px;border:none;border-radius:4px;cursor:pointer}
.pagination{margin-top:12px;text-align:center}

/* chat-like list */
.chat-list { list-style:none;padding:0;margin:0 }
.chat-item { display:flex;align-items:center;padding:8px;border-bottom:1px solid #eee;cursor:pointer }
.chat-item:hover { background:#fafafa }
.chat-item .thumb { width:40px;height:40px;border-radius:50%;overflow:hidden;margin-right:10px }
.chat-item .thumb img { width:100%;height:100%;object-fit:cover }
.chat-item .meta { flex:1 }
.chat-item .meta .name { font-weight:600 }
.chat-item .meta .sub { font-size:0.85rem;color:#666 }
.chat-item .meta .desc { font-size:0.85rem; color:#4b5563; margin-top:2px; display:none; -webkit-line-clamp:2; line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
.chat-item.show-desc .meta .desc { display:-webkit-box; }
.chat-item .actions { margin-left:8px }

/* modal for consulta */
.consulta-modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;z-index:1200}
.consulta-modal{background:#fff;padding:14px;border-radius:8px;max-width:520px;width:90%;box-shadow:0 6px 20px rgba(0,0,0,0.12)}
.consulta-modal .header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.consulta-modal .doctor-info{display:flex;align-items:center;gap:12px}
.consulta-modal .doctor-info img{width:40px;height:40px;border-radius:50%;object-fit:cover}
.consulta-modal .doctor-info .desc{ font-size:.9rem; color:#4b5563; margin-top:4px; display:-webkit-box; -webkit-line-clamp:3; line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }
.consulta-modal textarea{width:100%;min-height:110px;padding:8px;border:1px solid #ddd;border-radius:6px}
.consulta-modal .actions{display:flex;gap:8px;justify-content:flex-end;margin-top:10px}

/* ensure logout modal overlays other elements */
#logoutModal{z-index:1300}


/* Ajuste del contenedor principal de búsqueda */
.col-md-4 .card {
    background: #fff;
    border: 1px solid #ddd;
    border-radius: 10px;
    padding: 15px;
    /* IMPORTANT: override global .card flex to allow children to span 100% width */
    display: block;
    width: 100%;
    max-width: 360px; /* hace que el cuadro sea más estrecho */
    margin: 0 auto; /* lo centra */
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

/* Evita que el contenedor sea demasiado alto */
.col-md-4 {
    display: flex;
    justify-content: center;
}

/* Ajusta la altura de la lista para que no se desborde visualmente */
.chat-list {
    max-height: 400px; /* default */
    overflow-y: auto;
}

/* Ajusta el fondo para que no se vea tan translúcido */
.card {
    background-color: rgba(255, 255, 255, 0.95); /* blanco más sólido */
}

/* Mejora visual del título “Buscar” */
.card h6 {
    text-align: center;
    font-weight: 600;
    font-size: 23px;
    margin-bottom: 10px;
    font-family: sans-serif;
    
}


.btn-closs{
    background-color: rgb(255, 77, 6);
    color: white;
    padding: 8px 14px;
    border-radius: 6px;
    border: none;
    cursor: pointer;
}
.btn-closs:hover{
    background-color: rgb(236, 177, 150);
}

/* Wider inputs and reset button styling for mainPac */
.card .form-control.form-control-sm, .card .form-select.form-select-sm {
    width: 100%;
    box-sizing: border-box;
}


.btn-reset-filters{
    display: block;
    width: 100%;
    padding: .5rem .6rem;
    font-size: .95rem;
    border-radius: 6px;
    border: 1px solid #ced4da;
    background: #3683d1;
    color: #ffffff;
    text-align: center;
    cursor: pointer;
}
.btn-reset-filters:hover{ background:#78a8d8;
color: #fcfcfc; }

/* Slight spacing tweak for the search area */
.card .mb-2 { margin-bottom: .6rem; }

/* Ensure chat list stays visually aligned with card */
.chat-list { padding-left: 0; }

/* Nav bar for mainPac */
.mainpac-nav{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:12px 16px;
    background:#3a7ca5; /* match mainDoc color */
    color:#fff;
    border-bottom:1px solid rgba(0,0,0,0.06);
    position:sticky;
    top:0;
    z-index: 1100;
}
.mainpac-brand{
    display:flex;
    align-items:center;
    gap:10px;
}
.brand-logo{
    width:34px;
    height:34px;
    object-fit:contain;
    -webkit-user-drag: none;
    user-select: none;
    pointer-events: none; /* avoid selection/interaction */
}
.brand-logo:hover{
    transform: none !important; /* ensure no hover scale if any generic rule applies */
}
.mainpac-brand .brand-title{
    font-weight:700;
    font-size:1.2rem;
    letter-spacing:.3px;
    color:#fff;
}
.mainpac-nav .logout-btn{
    background:#dc3545 !important; /* identical to mainDoc */
    color:#fff !important;
    border:none !important;
    padding:8px 12px !important;
    border-radius:6px !important;
    cursor:pointer;
    transition: background-color .2s ease;
    -webkit-user-select: none;
    user-select: none; /* avoid caret/selection on button */
}
.mainpac-nav .logout-btn:hover{ background:#c82333 !important; }

.busNom{
    height: 35px;
}

/* Logout modal (identical to mainDoc) */
#logoutModal{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.5);
    align-items:center;
    justify-content:center;
    z-index:1300;
}
#logoutModal .dialog{
    background:#ffffff;
    padding:20px;
    border-radius:8px;
    max-width:360px;
    width:calc(100% - 32px);
    margin:0 auto;
    text-align:center;
    box-shadow:0 6px 20px rgba(0,0,0,0.12);
}
#logoutModal .dialog .actions{
    display:flex;
    gap:8px;
    justify-content:center;
    margin-top:12px;
}

/* Confirm delete modal (match logout modal styling) */
#confirmDeleteModal{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.5);
    align-items:center;
    justify-content:center;
    z-index:1300;
}
#confirmDeleteModal .dialog{
    background:#ffffff;
    padding:20px;
    border-radius:8px;
    max-width:380px;
    width:calc(100% - 32px);
    margin:0 auto;
    text-align:center;
    box-shadow:0 6px 20px rgba(0,0,0,0.12);
}
#confirmDeleteModal .dialog .title{
    font-weight:700;
    margin-bottom:6px;
}
#confirmDeleteModal .dialog .desc{
    color:#4b5563;
}
#confirmDeleteModal .dialog .actions{
    display:flex;
    gap:8px;
    justify-content:center;
    margin-top:12px;
}

/* Finalize modal (same look as confirm delete) */
#confirmFinalizeModal{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.5);
    align-items:center;
    justify-content:center;
    z-index:1300;
}
#confirmFinalizeModal .dialog{
    background:#ffffff;
    padding:20px;
    border-radius:8px;
    max-width:380px;
    width:calc(100% - 32px);
    margin:0 auto;
    text-align:center;
    box-shadow:0 6px 20px rgba(0,0,0,0.12);
}
#confirmFinalizeModal .dialog .title{ font-weight:700; margin-bottom:6px; }
#confirmFinalizeModal .dialog .desc{ color:#4b5563; }
#confirmFinalizeModal .dialog .actions{ display:flex; gap:8px; justify-content:center; margin-top:12px; }

/* Generic buttons (shared with mainDoc for consistency) */
.btn{ display:inline-block; border:none; border-radius:6px; padding:8px 12px; cursor:pointer; font-size:.95rem; }
.btn-primario{ background:#0d6efd; color:#fff; }
.btn-primario:hover{ background:#0b5ed7; }
.btn-secundario{ background:#e9ecef; color:#212529; }
.btn-secundario:hover{ background:#dee2e6; }

/* Flash messages (aligned with perfilpac.css look) */
.message { margin: 12px auto; padding: 10px 12px; border-radius: 6px; font-size: 14px; max-width: 900px; }
.message.success { background-color: #e5f8e8; color: #2e7d32; }

/* Toasts */
.toast-container{
    position: fixed;
    top: 72px; /* bajar para no tapar el navbar/botón cerrar sesión */
    right: 16px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    z-index: 1400;
}
.toast{
    min-width: 260px;
    max-width: 420px;
    background: #ffffff;
    border-left: 4px solid #0d6efd; /* default blue */
    box-shadow: 0 8px 24px rgba(0,0,0,0.12);
    border-radius: 8px;
    padding: 10px 12px;
    display: flex;
    align-items: flex-start;
    gap: 10px;
    opacity: 0;
    transform: translateY(-8px);
    transition: opacity .18s ease, transform .18s ease;
}
.toast.show{ opacity: 1; transform: translateY(0); }
.toast .toast-content{ flex:1; color:#1f2937; font-size: 14px; }
.toast .toast-close{ background: transparent; border: none; color:#6b7280; cursor: pointer; font-size: 18px; line-height: 1; }
.toast-success{ border-left-color: #16a34a; }
.toast-error{ border-left-color: #dc2626; }

/* Chat detail for mainPac */
.detalle-consulta .cabecera-consulta{ display:flex; align-items:center; gap:12px; margin-bottom:10px; }
.detalle-consulta .cabecera-consulta .avatar{ width:44px; height:44px; border-radius:50%; object-fit:cover; }
.detalle-consulta .subtle{ color:#6b7280; font-size:.9rem; }
.chat-box{ border:1px solid #e5e7eb; border-radius:12px; padding:12px; background:#f9fafb; display:flex; flex-direction:column; gap:8px; width:100%; min-height:0; height:100%; overflow-y:auto; }
.bubble{ display:inline-block; padding:10px 12px 8px; border-radius:16px; margin:2px 0; max-width:88%; font-size:.95rem; line-height:1.35; box-shadow:0 1px 2px rgba(0,0,0,0.05); position:relative; }
/* Mensaje del paciente (yo) a la derecha */
.from-pac{ background:#dbeafe; color:#0f172a; align-self:flex-end; }
/* Mensaje del doctor a la izquierda */
.from-doc{ background:#eef2f7; color:#111827; align-self:flex-start; }
.respuesta-form{ display:flex; align-items:center; gap:8px; width:100%; }
.respuesta-form textarea{ flex:1; min-height:40px; height:40px; border:1px solid #ddd; border-radius:8px; padding:6px; }
/* Botón de envío como icono a la derecha */
.respuesta-form .send-btn{ width:40px; height:40px; border:none; border-radius:8px; background:#0d6efd; display:flex; align-items:center; justify-content:center; cursor:pointer; }
.respuesta-form .send-btn:hover{ background:#0b5ed7; }
.respuesta-form .send-btn img{ filter: invert(100%); width:20px; height:20px; display:block; }

/* Burbujas con hora y metadatos */
.bubble .meta{ display:flex; align-items:center; gap:6px; font-size:.78rem; color:#6b7280; margin-top:4px; opacity:.9; }
.bubble .time{ font-variant-numeric: tabular-nums; }

/* Hacer que el card de chat ocupe casi toda la altura de la ventana */
.pac-chat-card{ display:flex; flex-direction:column; height:calc(100vh - 220px); min-height:500px; overflow:hidden; }
.pac-chat-card .detalle-consulta{
    display:grid;
    grid-template-rows: auto 1fr auto auto auto;
    grid-template-areas:
        "header"
        "chat"
        "form"
        "actions"
        "note";
    flex:1;
    min-height:0;
    height:100%;
    overflow:hidden;
}
.pac-chat-card #pacChatHeader{ grid-area: header; }
.pac-chat-card #pacChatEmpty{ grid-area: chat; }
.pac-chat-card #pacChatBox{ grid-area: chat; }
.pac-chat-card #pacChatForm{ grid-area: form; }
.pac-chat-card #pacAcciones{ grid-area: actions; }
.pac-chat-card #pacChatNote{ grid-area: note; }
.pac-chat-card #pacChatHeader{ padding:6px 8px; border-bottom:1px solid #e5e7eb; margin-bottom:8px; }
.pac-chat-card #pacChatForm{ margin-top:10px; }
.acciones-consulta{ display:flex; justify-content:flex-end; gap:8px; }

/* Fila inferior con cerrar (izquierda) y finalizar (derecha) */
.acciones-row{ display:flex; align-items:center; justify-content:space-between; gap:8px; width:100%; }

/* Forzar que el área de mensajes sea la que scrollea y ocupe todo el ancho */
.pac-chat-card #pacChatBox{
    height: 100%;
    min-height: 0;
    overflow-y: auto;
    width: 100%;
}
.pac-chat-card #pacChatEmpty{
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: #6b7280;
}

/* Nueva disposición de tres columnas (independientes) */
.pac-layout{ align-items: stretch; }
.pac-left .card,
.pac-center .card,
.pac-right .card{ height: calc(100vh - 220px); min-height: 500px; display:flex; flex-direction: column; overflow:hidden; align-items: stretch; margin-bottom: 16px; }

/* Scroll independiente para la lista de doctores (columna izquierda) */
.pac-left #doctorList{ flex:1 1 0; min-height:0; overflow-y:auto; max-height: none; }

/* Scroll independiente para finalizadas (columna derecha) */
.pac-right #pacFinalizadasList{ flex:1 1 0; min-height:0; overflow-y:auto; max-height: none; }

/* Footer simple */
.site-footer{
    margin-top: 16px;
    padding: 10px 16px;
    background: #f3f4f6;
    color: #374151;
    border-top: 1px solid #e5e7eb;
    text-align: center;
    font-size: .9rem;
}

/* Botones de acciones (verde/rojo) */
.btn-success{ background:#16a34a; color:#fff; }
.btn-success:hover{ background:#15803d; }
.btn-danger{ background:#dc2626; color:#fff; }
.btn-danger:hover{ background:#b91c1c; }